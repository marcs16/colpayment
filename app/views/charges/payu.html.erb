<!-- here we gonna show a css animation while the user is being redirected to payu -->
<div class="payu-redirect pt-4">
  <div class="container">
    <div class="row justify-content-center">
      <div class="col-5">
        <div class="card">
          <div class="card-body">
            <h5 class="card-title">Redirecting to PayU</h5>
            <p class="card-text">Please wait while we redirect you to PayU</p>
            <div class="col-4">
              <div class="spinner-border text-primary align-left" role="status">
              </div>
              <span class="sr-only">Loading...</span>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<form method="post" action="https://sandbox.checkout.payulatam.com/ppp-web-gateway-payu/" data-turbo="false">
  <input name="merchantId"      type="hidden"  value="<%= ENV['PAYU_MERCHANT_ID']%>">
  <input name="accountId"       type="hidden"  value="<%= ENV['PAYU_ACCOUNT_ID']%>">
  <input name="description"     type="hidden"  value="Test program">
  <input name="referenceCode"   type="hidden"  value="<%= @charge.uid%>">
  <input name="amount"          type="hidden"  value="<%= @charge.amount%>">
  <input name="tax"             type="hidden"  value="0"  >
  <input name="taxReturnBase"   type="hidden"  value="0" >
  <input name="currency"        type="hidden"  value="COP" >
  <input name="signature"       type="hidden"  value="<%= @signature%>">
  <input name="test"            type="hidden"  value="1" >
  <input name="buyerEmail"      type="hidden"  value="test@test.com">
  <input name="responseUrl"     type="hidden"  value="<%= ENV['HOSTNAME']%>/payu/result">
  <input name="confirmationUrl" type="hidden"  value="<%= ENV['HOSTNAME']%>/payu/confirmation">
</form>

<script>
  document.querySelector('form').submit();
</script>